<document xmlns="http://maven.apache.org/changes/1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/changes/1.0.0
						https://maven.apache.org/xsd/changes-1.0.0.xsd">

	<body>
		<release version="3.9.0-SNAPSHOT" date="TBD" description="Mostly non-functional changes">
			<action type="update" dev="michael-o">Upgrade parent to 16</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.87</action>
		</release>
		<release version="3.8.0" date="2022-04-06" description="Support certificate-based authentication">
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.78</action>
			<action type="add" dev="michael-o" issue="3">Canonicalize all username types to KRB5_NT_PRINCIPAL string name type</action>
			<action type="add" dev="michael-o" issue="3">Enable ActiveDirectoryRealm to search by X.509 user certificates</action>
			<action type="add" dev="michael-o" issue="3">Add a minimalist X.509 SAN:otherName ASN.1 parser</action>
			<action type="add" dev="michael-o" issue="3">Add support for string name types in UsernameSearchMapper</action>
			<action type="update" dev="michael-o" issue="1">Make ActiveDirectoryRealmBase#getPassword(String) behave like Tomcat's AuthenticatedUserRealm#getPassword(String)</action>
			<action type="fix" dev="michael-o">Fix possible ReferralException/PartialResultException in duplicate user check</action>
		</release>
		<release version="3.7.0" date="2021-10-25" description="New features">
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.69</action>
			<action type="add" dev="michael-o">Try to recover from intermittent network issues during principal search</action>
			<action type="fix" dev="michael-o">Fix a connection leak</action>
			<action type="add" dev="michael-o">Improve logging by introducing a connection id</action>
			<action type="update" dev="michael-o">Log how many roles we are retrieving from AD</action>
			<action type="update" dev="michael-o">Precalculate required user attribute names</action>
			<action type="add" dev="michael-o">Add configuration option for role format of security groups</action>
		</release>
		<release version="3.6.0" date="2021-06-07" description="Non-functional changes">
			<action type="update" dev="michael-o">Improve exception messages</action>
			<action type="update" dev="michael-o">Update documentation</action>
			<action type="update" dev="michael-o">Update parent to 15</action>
			<action type="update" dev="michael-o">Move to GitHub</action>
		</release>
		<release version="3.5" date="2020-11-25" description="New features">
			<action type="add" dev="michael-o">Introduce a poor man's directory server connection pooling</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.60</action>
			<action type="update" dev="michael-o">Update parent to 14</action>
		</release>
		<release version="3.4" date="2019-12-20" description="Code reduction">
			<action type="fix" dev="michael-o">Align ActiveDirectoryRealm#hasRole(String) with GenericPrincipal</action>
			<action type="remove" dev="michael-o">Complete removal of CombinedActiveDirectoryRealm</action>
			<action type="update" dev="michael-o">GSSRealm functionally moved to ActiveDirectoryRealmBase</action>
			<action type="remove" dev="michael-o">Complete removal of GSSRealm interface</action>
			<action type="remove" dev="michael-o">Complete removal of GSSUserDatabaseRealm</action>
			<action type="update" dev="michael-o">Remove duplicate code already present in Tomcat</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.50</action>
		</release>
		<release version="3.3" date="2019-09-23" description="Code reduction">
			<action type="update" dev="michael-o">Remove duplicate code already present in Tomcat</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.46</action>
		</release>
		<release version="3.2" date="2019-03-09" description="Non-functional changes">
			<action type="update" dev="michael-o">Update documentation</action>
			<action type="update" dev="michael-o">Update parent to 11</action>
			<action type="update" dev="michael-o">Upgrade to DirContextSource 2.2</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.38</action>
		</release>
		<release version="3.1" date="2017-04-21" description="Minor updates">
			<action type="remove" dev="michael-o">Complete removal of uploads to SourceForge</action>
			<action type="update" dev="michael-o">Upgrade to DirContextSource 2.1</action>
			<action type="update" dev="michael-o">Upgrade to Tomcat 8.5.12</action>
		</release>
		<release version="3.0" date="2017-03-05" description="Overhaul for Tomcat 8.5">
			<action type="add" dev="michael-o">Introduce GSSRealm interface for third-party implementations</action>
			<action type="update" dev="michael-o">ActiveDirectoryPrincipal now implements TomcatPrincipal</action>
			<action type="add" dev="michael-o">Add proper warning if referrals are expected to handle, but Oracle JDNI provider not able to do so</action>
			<action type="update" dev="michael-o">Renamed attribute resourceName to dirContextSourceName in ActiveDirectoryRealm</action>
			<action type="remove" dev="michael-o">Remove code portions already implemented in Tomcat 8.5</action>
			<action type="update" dev="michael-o">Attribute storeDelegatedCredential has been moved to GSSAuthenticatorBase</action>
			<action type="remove" dev="michael-o">Remove custom classes already present in Tomcat 8.5</action>
			<action type="update" dev="michael-o">Full code update to Tomcat 8.5</action>
		</release>
		<release version="2.1" date="2016-06-09" description="Minor improvements and new features">
			<action type="add" dev="michael-o">A CombinedActiveDirectoryRealm which iterates over multiple ActiveDirectoryRealms</action>
			<action type="remove" dev="michael-o">Don't return principal with NULL_SID if not found in Active Directory</action>
			<action type="add" dev="michael-o">Have ActiveDirectoryPrincipal expose roles as SID strings via #getRoles()</action>
			<action type="update" dev="michael-o">Upgrade to DirContextSource 1.3</action>
			<action type="remove" dev="michael-o">Don't log that referral throw is not handled</action>
			<action type="fix" dev="michael-o">Make #getRelativeName() comparison case-insensitive as per RFC 2253</action>
			<action type="fix" dev="michael-o">Avoid number overflows while parsing a SID from bytes</action>
		</release>
		<release version="2.0" date="2016-03-16" description="Major documentation and realm overhaul">
			<action type="add" dev="michael-o">ActiveDirectoryRealm will properly inform about referral handling and log when not possible/failed</action>
			<action type="add" dev="michael-o">Return anonymous principal (ANONYMOUS_SID) if GSS context is anonymous</action>
			<action type="update" dev="michael-o">Realms return now principals with NULL_SID if not found instead of null because users are fully authenticated anyway</action>
			<action type="add" dev="michael-o">Add equals and hashCode to Sid</action>
			<action type="update" dev="michael-o">User search in ActiveDirectoryRealm will ignore users which are disabled</action>
			<action type="update" dev="michael-o">Change in signatures of GSSRealmBase</action>
			<action type="update" dev="michael-o">Authenticator and realm prefix 'GssAware' has been shortened to 'GSS' only</action>
			<action type="remove" dev="michael-o">Authenticators do not analyze X-Requested-With header anymore</action>
			<action type="fix" dev="michael-o">NTLM type 1 message is properly detected now</action>
			<action type="update" dev="michael-o">Authenticators will fail with Internal Server Error if security context requires continuation</action>
			<action type="remove" dev="michael-o">Property strippableRoleNamePrefixes on realms has been removed</action>
			<action type="update" dev="michael-o">HTTP connections aren't closed on successful authentiction anymore</action>
			<action type="update" dev="michael-o">Improved logging messages</action>
			<action type="update" dev="michael-o">Improved overall documentation</action>
			<action type="add" dev="michael-o">Created VisualBasic scripts to mimic the UsernameSearchMapper implementations</action>
			<action type="add" dev="michael-o">Added an immutable SID (security identifier) implementation</action>
			<action type="update" dev="michael-o">Make roles by default stored as SID strings derived from objectSid and sIDHistory</action>
			<action type="update" dev="michael-o">Retrieve security-enabled roles only</action>
			<action type="update" dev="michael-o">Search in Active Directory for user and machine accounts only</action>
			<action type="remove" dev="michael-o">ActiveDirectoryPrincipal does not contain the mech OID and DN anymore</action>
			<action type="add" dev="michael-o">ActiveDirectoryRealm queries role mappings from Context</action>
			<action type="add" dev="michael-o">Retrieve additional attributes from AD and store in the ActiveDirectoryPrincipal</action>
			<action type="add" dev="michael-o">Added documentation for Spring Security</action>
		</release>
	</body>

</document>
